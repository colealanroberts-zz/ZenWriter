!function(){function e(){var e={detail:l.value};f.push(e),console.log("current tasks are: "+f);var n=f.length;console.log(n),console.log(f);for(var t=0;n>t;t++)var s='<li class="task__item">'+f[t].detail+"</li>";u.innerHTML+=s,MacGap.File.write(i+"/ZenTasksList",f,"json"),a(),l.value="",d.classList.remove("show")}function n(e){v.innerHTML=e}function t(e,n){MacGap.notify({title:e,content:n})}function s(){document.ontouchmove=function(e){e.preventDefault()}}function a(){var e=MacGap.File.exists(i+"/ZenTasksList");if(0===e)MacGap.File.write(i+"/ZenTasksList",f,"json"),console.log("Created a new list");else if(e>0){var t=MacGap.File.read(i+"/ZenTasksList","json");console.log("Reading in list"),JSON.stringify(t),f.push(t);var s=Object.keys(t).length;0===s?n("Zen stuff...."):s>0&&(MacGap.Dock.addBadge(s),v.style.display="none")}}function o(){d.classList.add("show"),l.addEventListener("keydown",function(n){var t=n.which||n.keyCode;console.log(l.value.length),l.value.length>0?(r.classList.add("clickable"),r.addEventListener("click",e),13===t&&e()):r.classList.remove("clickable")})}MacGap.Window.title("ZenTasks");var c=!0,i=MacGap.documentsPath;c&&console.log(i);var l=document.querySelector(".js-input--task"),r=document.querySelector(".js-btn--create-task"),u=document.querySelector(".js-task-list"),d=document.querySelector(".js-focus-overlay"),v=document.querySelector(".js-proverb-text"),f=[];t("ZenTasks","App is running!"),a(),s(),l.addEventListener("focus",o),l.addEventListener("blur",function(){d.classList.remove("show")})}();